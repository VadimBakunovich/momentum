(()=>{"use strict";var e={370:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},511:(e,t,a)=>{e.exports=a.p+"assets/favicon.png"},187:(e,t,a)=>{e.exports=a.p+"assets/Secret Garden - The Promise.mp3"}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),a.b=document.baseURI||self.location.href,(()=>{var e=a(370),t=a.n(e),n=new URL(a(511),a.b),s=new URL(a(187),a.b);t()(n),t()(s);!function(){window.lang=localStorage.language?localStorage.getItem("language"):"ru";const e=e=>{if("ru"===e)btnEn.classList.remove("highlighted"),btnRu.classList.add("highlighted"),langTitle.textContent="Язык",elemsPlayer.textContent="Проигрыватель",elemsWeather.textContent="Погода",elemsTime.textContent="Время",elemsDate.textContent="Дата",elemsGreet.textContent="Приветствие",elemsTodo.textContent="Список дел",elemsQuote.textContent="Цитаты",bgSrcTitle.textContent="Источник фоновых изображений",selTagTxt.textContent="Выберите тэг (только для API):",selectTag.options[0].textContent="время суток",selectTag.options[1].textContent="природа",selectTag.options[2].textContent="лес",selectTag.options[3].textContent="море",selectTag.options[4].textContent="пляж",selectTag.options[5].textContent="небо",selectTag.options[6].textContent="поля",selectTag.options[7].textContent="луга",selectTag.options[8].textContent="цветы",selectTag.options[9].textContent="горы",selectTag.options[10].textContent="автомобили",selectTag.options[11].textContent="спорт",selectTag.options[12].textContent="город",selectTag.options[13].textContent="еда",selectTag.options[14].textContent="лошади",selectTag.options[15].textContent="собаки",selectTag.options[16].textContent="кошки",selectTag.options[17].textContent="птицы",selectTag.options[18].textContent="фильмы",warnTxt.textContent="Внимание! Время ожидания ответа от сервера API может достигать 5 секунд. Необходимо подождать смены фонового изображения.";else{btnRu.classList.remove("highlighted"),btnEn.classList.add("highlighted"),langTitle.textContent="Language",elemsPlayer.textContent="Audio player",elemsWeather.textContent="Weather",elemsTime.textContent="Time",elemsDate.textContent="Date",elemsGreet.textContent="Greetings",elemsTodo.textContent="To-do list",elemsQuote.textContent="Quotes",bgSrcTitle.textContent="Source of background images",selTagTxt.textContent="Select tag (only for API):",selectTag.options[0].textContent="times of day";for(let e=1;e<selectTag.options.length;e++)selectTag.options[e].textContent=selectTag.options[e].value;warnTxt.textContent="Attention! The waiting time for a response from the API server can be up to 5 seconds. You need to wait for the background image to change."}};switch(e(lang),btnEn.addEventListener("click",(t=>{lang="en",localStorage.setItem("language","en"),e("en")})),btnRu.addEventListener("click",(t=>{lang="ru",localStorage.setItem("language","ru"),e("ru")})),window.getTimeOfDay=e=>{const t={};switch(e){case"en":t.night="night",t.morning="morning",t.afternoon="afternoon",t.evening="evening";break;case"ru":t.night="ночи",t.morning="утро",t.afternoon="день",t.evening="вечер"}const a=(new Date).getHours();return a<6?t.night:a<12?t.morning:a<18?t.afternoon:t.evening},localStorage.playerClassName&&(audioPlayer.className=localStorage.getItem("playerClassName")),audioPlayer.classList.contains("hidden")&&(hidePlayer.checked=!1),hidePlayer.onchange=e=>{audioPlayer.classList.toggle("hidden"),localStorage.setItem("playerClassName",audioPlayer.className)},localStorage.weatherClassName&&(weather.className=localStorage.getItem("weatherClassName")),weather.classList.contains("hidden")&&(hideWeather.checked=!1),hideWeather.onchange=e=>{weather.classList.toggle("hidden"),localStorage.setItem("weatherClassName",weather.className)},localStorage.currTimeClassName&&(currTime.className=localStorage.getItem("currTimeClassName")),currTime.classList.contains("hidden")&&(hideTime.checked=!1),hideTime.onchange=e=>{currTime.classList.toggle("hidden"),localStorage.setItem("currTimeClassName",currTime.className)},localStorage.currDateClassName&&(currDate.className=localStorage.getItem("currDateClassName")),currDate.classList.contains("hidden")&&(hideDate.checked=!1),hideDate.onchange=e=>{currDate.classList.toggle("hidden"),localStorage.setItem("currDateClassName",currDate.className)},localStorage.greetingsClassName&&(greetings.className=localStorage.getItem("greetingsClassName")),greetings.classList.contains("hidden")&&(hideGreet.checked=!1),hideGreet.onchange=e=>{greetings.classList.toggle("hidden"),localStorage.setItem("greetingsClassName",greetings.className)},localStorage.toDoClassName&&(toDo.className=localStorage.getItem("toDoClassName")),toDo.classList.contains("hidden")&&(hideToDo.checked=!1),hideToDo.onchange=e=>{toDo.classList.toggle("hidden"),localStorage.setItem("toDoClassName",toDo.className)},localStorage.quotesClassName&&(quoteWrp.className=localStorage.getItem("quotesClassName")),quoteWrp.classList.contains("hidden")&&(hideQuote.checked=!1),hideQuote.onchange=e=>{quoteWrp.classList.toggle("hidden"),localStorage.setItem("quotesClassName",quoteWrp.className)},localStorage.bgSrc){case"Unsplash":srcUnsplash.checked=!0;break;case"Pixels":srcPixels.checked=!0}srcGitHub.checked?selectTag.disabled=!0:selectTag.disabled=!1,localStorage.bgTag&&(selectTag.value=localStorage.getItem("bgTag")),srcGitHub.addEventListener("change",(e=>{selectTag.disabled=!0,localStorage.setItem("bgSrc","GitHub")})),srcUnsplash.addEventListener("change",(e=>{selectTag.disabled=!1,localStorage.setItem("bgSrc","Unsplash")})),srcPixels.addEventListener("change",(e=>{selectTag.disabled=!1,localStorage.setItem("bgSrc","Pixels")})),selectTag.addEventListener("change",(e=>{localStorage.setItem("bgTag",selectTag.value)})),btnSettings.onclick=e=>sett.classList.toggle("hidden")}(),function(){let e,t=Math.floor(20*Math.random())+1,a=getTimeOfDay("en"),n=[],s=[],o=!1;const r=e=>Math.floor(Math.random()*e),l=t=>{if(e&&!o)body.style.backgroundImage=`url(${e.src})`;else{const e=new Image;e.src=t[r(t.length)],e.onload=t=>body.style.backgroundImage=`url(${e.src})`}e=new Image,e.src=t[r(t.length)],o=!1},i=(e,t)=>{t=`${t}`.padStart(2,"0");const a=new Image;a.src=`\n    https://raw.githubusercontent.com/VadimBakunovich/stage1-tasks/assets/images/${e}/${t}.jpg`,a.onload=e=>body.style.backgroundImage=`url(${a.src})`},c=e=>{fetch(`https://api.unsplash.com/photos/random?client_id=uptGnKCFuXbzoqFtHN3O6nI9sZ9ZucidddULq3dDQ2w&query=${e}&orientation=landscape&count=30`).then((e=>e.json())).then((e=>{n=e.filter((e=>e.urls.raw)).map((e=>e.urls.raw+"&crop=entropy&cs=tinysrgb&fm=jpg&q=45&w=1920&h=1080")),l(n)}))},u=e=>{fetch(`https://api.pexels.com/v1/search?query=${e}&orientation=landscape&page=1&per_page=80`,{headers:{Authorization:"563492ad6f91700001000001e37ddac374ed4c8fa4e0926c408de06c"}}).then((e=>e.json())).then((e=>{s=e.photos.filter((e=>e.src.original)).map((e=>e.src.original+"?auto=compress&cs=tinysrgb&h=1080&w=1920")),l(s)}))},d=e=>{switch(o=!0,e){case"Unsplash":"default"===selectTag.value?c(getTimeOfDay("en")):c(selectTag.value);break;case"Pixels":"default"===selectTag.value?u(getTimeOfDay("en")):u(selectTag.value);break;default:i(getTimeOfDay("en"),t)}};d(localStorage.getItem("bgSrc")),sliderPrev.onclick=e=>{srcGitHub.checked?(1===t?t=20:t-=1,i(getTimeOfDay("en"),t)):srcUnsplash.checked?l(n):srcPixels.checked&&l(s)},sliderNext.onclick=e=>{srcGitHub.checked?(20===t?t=1:t+=1,i(getTimeOfDay("en"),t)):srcUnsplash.checked?l(n):srcPixels.checked&&l(s)},srcGitHub.addEventListener("change",(e=>d("GitHub"))),srcUnsplash.addEventListener("change",(e=>d("Unsplash"))),srcPixels.addEventListener("change",(e=>d("Pixels"))),setInterval((e=>{a!==getTimeOfDay("en")&&(a=getTimeOfDay("en"),srcGitHub.checked?i(a,t):selectTag.disabled||"default"!==selectTag.value||(srcUnsplash.checked?c(a):srcPixels.checked&&u(a)))}),1e3),selectTag.addEventListener("change",(e=>{srcUnsplash.checked?d("Unsplash"):srcPixels.checked&&d("Pixels")}))}(),function(){const e=e=>{if("en"===e)return"Good";switch(getTimeOfDay(e)){case"ночи":return"Доброй";case"утро":return"Доброе";case"день":case"вечер":return"Добрый"}},t=e=>(new Date).toLocaleDateString((e=>"en"===e?"en-US":"ru-RU")(lang),{weekday:"long",month:"long",day:"numeric"}),a=n=>{"ru"===lang?userName.placeholder="[Введите имя]":userName.placeholder="[Enter name]",currTime.textContent=(new Date).toLocaleTimeString("en-GB"),currDate.textContent!==t()&&(currDate.textContent=t()),greeting.textContent!==`${e(lang)} ${getTimeOfDay(lang)},`&&(greeting.textContent=`${e(lang)} ${getTimeOfDay(lang)},`),setTimeout(a,1e3)};a(),localStorage.userName&&(userName.value=localStorage.getItem("userName")+"!",userName.value.length>2?userName.size=userName.value.length-2:userName.size=userName.value.length),userName.oninput=e=>{userName.value?userName.value.length>2?userName.size=userName.value.length-1:userName.size=userName.value.length:userName.size=9,localStorage.setItem("userName",userName.value)},userName.onchange=e=>userName.value?userName.value+="!":""}(),function(){const e=[{title:"Secret Garden - Songs from a secret garden",src:"assets/Secret Garden - Songs from a secret garden.mp3",duration:"3:37"},{title:"Secret Garden - The Promise",src:"assets/Secret Garden - The Promise.mp3",duration:"3:23"},{title:"Thematic pianos - Pain",src:"assets/Thematic pianos - Pain.mp3",duration:"2:38"},{title:"Yiruma - Moonlight",src:"assets/Yiruma - Moonlight.mp3",duration:"3:32"},{title:"Yiruma - River Flows In You",src:"assets/Yiruma - River Flows In You.mp3",duration:"3:09"}];(t=>{for(let t of e){const e=`\n        <li class="track-name">\n          <button class="btn-play-track"></button>\n          ${t.title}<span class="track-duration">${t.duration}</span>\n        </li>`;trackList.innerHTML+=e}})(),audio.src=e[0].src;let t=0,a=!0;const n=e=>(e-(e%=60))/60+(e>9?":":":0")+e,s=e=>{audioCurrTime.textContent=n(Math.round(audio.currentTime)),audioDuration.textContent=n(Math.round(audio.duration))};s(),audio.addEventListener("loadeddata",(n=>{audio.currentTime=0,a||audio.play(),currTrack.textContent=e[t].title,s(),(e=>{const t=document.querySelectorAll(".track-name");for(let e of t)e.textContent.includes(currTrack.textContent)?e.classList.add("curr-track"):e.classList.remove("curr-track")})()})),audio.addEventListener("ended",(a=>{t===e.length-1?t=0:t+=1,audio.src=e[t].src}));const o=e=>`\n    linear-gradient(to right, #FDAC53 0%, #FDAC53 ${e}%, #c4c4c4 ${e}%, #c4c4c4 100%)`;audioPlayer.addEventListener("click",(n=>{switch(n.target.id){case"playBtn":audio.paused?audio.play():audio.pause(),a=!!audio.paused;break;case"muteBtn":audio.muted?audio.muted=!1:audio.muted=!0;break;case"prevTrack":t?t-=1:t=e.length-1,audio.src=e[t].src;break;case"nextTrack":t===e.length-1?t=0:t+=1,audio.src=e[t].src}if(n.target.classList.contains("btn-play-track")){const s=n.target.nextSibling.textContent.trim();if(currTrack.textContent!==s)for(let a=0;a<e.length;a++)e[a].title===s&&(t=a,audio.src=e[a].src);audio.paused?audio.play():audio.pause(),a=!!audio.paused}})),audio.onplay=a=>{playBtn.classList.add("pause");const n=document.querySelectorAll(".track-name");for(let a of n)a.textContent.includes(e[t].title)?a.firstElementChild.classList.add("--pause-track"):a.firstElementChild.classList.remove("--pause-track")},audio.onpause=a=>{playBtn.classList.remove("pause");const n=document.querySelectorAll(".track-name");for(let a of n)a.textContent.includes(e[t].title)&&a.firstElementChild.classList.remove("--pause-track")},audio.addEventListener("timeupdate",(e=>{isNaN(audio.duration)||(s(),progress.value=100*audio.currentTime/audio.duration,progress.style.background=o(progress.value))})),progress.oninput=e=>audio.currentTime=progress.value*audio.duration/100,vol.addEventListener("input",(e=>{audio.muted?(audio.muted=!1,audio.volume=.05):audio.volume=vol.value/100})),audio.addEventListener("volumechange",(e=>{audio.muted?(vol.style.background=o(0),vol.value=0):(vol.style.background=o(100*audio.volume),vol.value=100*audio.volume),0===audio.volume||audio.muted?muteBtn.classList.add("muted"):muteBtn.classList.remove("muted")})),audio.volume=vol.value/100}(),function(){const e=(e,t)=>{const a="en"===t?"Humidity: ":"Влажность: ",n="en"===t?"Wind speed: ":"Скорость ветра: ",s="en"===t?" m/s":" м/с";fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=${t}&appid=5538bd69cb63701d95409db4f6982484&units=metric`).then((e=>e.json())).then((e=>{e.cod>299?(weatherIcon.className="weather-icon owf",temperature.textContent="",weatherDescr.textContent="",humidity.textContent="",wind.textContent="",cityError.textContent="Error: "+e.message):(cityError.textContent="",weatherIcon.classList.add(`owf-${e.weather[0].id}`),temperature.textContent=Math.round(e.main.temp)+"°C",weatherDescr.textContent=e.weather[0].description,humidity.textContent=a+e.main.humidity+"%",wind.textContent=n+Math.round(e.wind.speed)+s)}))};localStorage.city?inputCity.value=localStorage.getItem("city"):inputCity.value="ru"===lang?"Минск":"Minsk",e(inputCity.value,lang),inputCity.onchange=t=>{e(inputCity.value,lang),localStorage.setItem("city",inputCity.value)},btnEn.addEventListener("click",(t=>{"Минск"===inputCity.value&&(inputCity.value="Minsk"),e(inputCity.value,lang)})),btnRu.addEventListener("click",(t=>{"Minsk"===inputCity.value&&(inputCity.value="Минск"),e(inputCity.value,lang)}))}(),function(){const e=e=>{fetch(`https://quotes15.p.rapidapi.com/quotes/random/?language_code=${e}`,{method:"GET",headers:{"x-rapidapi-host":"quotes15.p.rapidapi.com","x-rapidapi-key":"79425828ccmshcd2375d58f9cadcp1fe229jsnd55a3477bdb3"}}).then((t=>{if(200===t.status)return t.json();(e=>{fetch("assets/quotes.json").then((e=>e.json())).then((t=>{const a=Math.floor(Math.random()*t.quotes.length);"ru"===e?(quote.textContent=t.quotes[a].quoteRu,author.textContent=t.quotes[a].authorRu):(quote.textContent=t.quotes[a].quoteEn,author.textContent=t.quotes[a].authorEn)}))})(e)})).then((e=>{quote.textContent=e.content,author.textContent=e.originator.name}))};e(lang),updQuote.onclick=t=>e(lang),btnEn.addEventListener("click",(t=>e(lang))),btnRu.addEventListener("click",(t=>e(lang)))}(),function(){inputToDo.placeholder="ru"===lang?"Введите задачу":"Enter the task";let e=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];const t=e=>`<li class="todo">\n      <p class="todo-text">${e}</p>\n      <button class="btn-del-todo"></button>\n    </li>`;for(let a of e)todoList.innerHTML+=t(a);const a=a=>{todoList.innerHTML+=t(a),e.push(inputToDo.value),localStorage.setItem("tasks",JSON.stringify(e)),inputToDo.value=""};inputToDo.onchange=e=>a(inputToDo.value),a.onclick=e=>{inputToDo.value&&a(inputToDo.value)},todoList.onclick=t=>{if(t.target.classList.contains("btn-del-todo")){const a=document.querySelectorAll(".btn-del-todo"),n=document.querySelectorAll(".todo");for(let s=0;s<a.length;s++)a[s]===t.target&&(n[s].remove(),e=e.filter(((e,t)=>t!==s)));localStorage.setItem("tasks",JSON.stringify(e))}},btnEn.addEventListener("click",(e=>inputToDo.placeholder="Enter the task")),btnRu.addEventListener("click",(e=>inputToDo.placeholder="Введите задачу"))}()})()})();